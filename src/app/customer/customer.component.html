    <div style="font-family: 'Nunito', sans-serif;height: 100vh;overflow:auto;">
      <div class="container" style="padding-left: 10px;font-weight: bold;">
        <br>
        <ul class="uk-breadcrumb">
          <li><a href="#">Home</a></li>
          <li><a href="#">Customer 360</a></li>
        </ul>
      </div>




      <div class="uk-child-width-2-2@s uk-grid-match" uk-grid style="width: 100%;padding-left: 10px;padding-top: 20px;">
        <div>
          <div class="uk-card uk-card-default uk-card-hover uk-card-body">
            <h4 class="uk-heading-bullet" style="color: #303f9f;">{{account_name | uppercase}} &nbsp;<i class="edit outline icon" uk-toggle="target: #modal-edit-account" (click)="editAccountName(account_name, company_id)"></i> </h4>
            <p> 
              <a class="ui green label">{{returnindustrytype(industry_type)}}</a>  
              <i class="edit outline icon" uk-toggle="target: #modal-edit-industrytype" (click)="editIndustryType(industry_type, company_id)"></i> 
              <a class="ui brown label">{{returncompanytype(company_type)}} </a>  
              <i class="edit outline icon" uk-toggle="target: #modal-edit-companytype" (click)="editCompanyType(company_type, company_id)"></i> 
            </p>
           {{customerlandscape}}
           <div class="uk-grid-collapse uk-child-width-expand@s uk-text-center" uk-grid>
            <div>
              <div class="uk-background-muted uk-padding">
               <span style="font-weight: bold;"> NO OF ENDPOINTS :</span> 
               <h4>{{totalendpoints}}</h4>
               <span class="uk-margin-small-right uk-icon" uk-icon="pencil" uk-toggle="target: #modal-edit-endpoints" (click)="editEndpoints(company_id)"></span>
             </div>
           </div>
           <div>
            <div class="uk-background-muted uk-padding">
              <span style="font-weight: bold;">CUSTOMER OVERALL VALUE :</span>
              <h4 style="color: green"> {{returnrupee(getTotal())}}</h4>
              <br>
            </div>
          </div>
          <div>
            <div class="uk-background-muted uk-padding">
              <span style="font-weight: bold;">NUMBER OF EMPLOYEES :</span> 
              <h4 *ngIf="employee_count > 0">{{employee_count}}</h4>
              <h4 style="color: red" *ngIf="employee_count < 0 || employee_count == 0 || employee_count == '-' || employee_count == ''"> <i class="fas fa-times"></i></h4>
              <span class="uk-margin-small-right uk-icon" uk-icon="pencil"  uk-toggle="target: #modal-edit-empcount" (click)="editEmpCount(employee_count, company_id)"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

 <!--Modal for Editing a Endpoints-->

<div id="modal-edit-endpoints" uk-modal>
  <br>
  <br>
  <div class="uk-modal-dialog uk-modal-body">
    <h2 class="uk-modal-title">Update EndPoints</h2> 
    <form class="ui form">

      <div class="field">
        <label>Laptops</label>
        <input type="text" name="elaptops" placeholder="Endpoints" [(ngModel)]="elaptops">
      </div>

      <div class="field">
        <label>Desktops</label>
        <input type="text" name="edesktops" placeholder="Endpoints" [(ngModel)]="edesktops">
      </div>

      <div class="field">
        <label>Mobile</label>
        <input type="text" name="emobiles" placeholder="Endpoints" [(ngModel)]="emobiles">
      </div>

      <div class="field">
        <label>Servers</label>
        <div class="ui stackable four column grid">
          <div class="column">
            <label>Cloud</label>
            <input type="text" name="ecloud" placeholder="Endpoints" [(ngModel)]="ecloud">
          </div>
          <div class="column">
            <label>On Prem</label>
            <input type="text" name="eonprem" placeholder="Endpoints" [(ngModel)]="eonprem">
          </div>
        </div>
      </div>

   </form>

   <br>
    <br>
    <p class="uk-text-right">
      <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
      <button class="uk-button uk-button-primary" type="button" (click)="on_edit_endpoints()">Save</button>
    </p>
  </div>
</div>

  <!--Modal for Editing an Account Name-->

<div id="modal-edit-account" uk-modal>
  <br>
  <br>
  <div class="uk-modal-dialog uk-modal-body">
    <h2 class="uk-modal-title">Update Company Name</h2> 
    <form class="ui form">

      <div class="field">
        <label>Company Name</label>
        <input type="text" name="ecompanyname" placeholder="Company Name" [(ngModel)]="ecompanyname">
      </div>
   </form>

   <br>
    <br>
    <p class="uk-text-right">
      <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
      <button class="uk-button uk-button-primary" type="button" (click)="on_edit_accountname()">Save</button>
    </p>
  </div>
</div>

  <!--Modal for Editing an Industry Type -->

<div id="modal-edit-industrytype" uk-modal>
  <br>
  <br>
  <div class="uk-modal-dialog uk-modal-body">
    <h2 class="uk-modal-title">Update Industry Type</h2>
    <form class="ui form">


      <div class="field">
        <label>Industry Type</label>
        <input type="text" name="eindustrytype" placeholder="Industry Type" [(ngModel)]="eindustrytype">
      </div>

   </form>

   <br>
    <br>
    <p class="uk-text-right">
      <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
      <button class="uk-button uk-button-primary" type="button" (click)="on_edit_industrytype()">Save</button>
    </p>
  </div>
</div>

  <!--Modal for Editing an Company Type -->

<div id="modal-edit-companytype" uk-modal>
  <br>
  <br>
  <div class="uk-modal-dialog uk-modal-body">
    <h2 class="uk-modal-title">Update Company Type</h2>
    <form class="ui form">

      <div class="form-group column" >
        <label for="exampleFormControlSelect2">Company Type: </label> {{ecompanytype}}
        <select class="form-control" id="exampleFormControlSelect2" (change)="changeCompanyType($event.target.value)" name="ecompanytype"> 
          <option>Pvt</option>
          <option>Inc</option>
          <option>Ltd</option>
        </select>
      </div>

   </form>

   <br>
    <br>
    <p class="uk-text-right">
      <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
      <button class="uk-button uk-button-primary" type="button" (click)="on_edit_companytype()">Save</button>
    </p>
  </div>
</div>


  <!--Modal for Editing a Employee Count -->

<div id="modal-edit-empcount" uk-modal>
  <br>
  <br>
  <div class="uk-modal-dialog uk-modal-body">
    <h2 class="uk-modal-title">Update Employee Count</h2>
    <form class="ui form">

     <div class="field">
        <label>Employee Count</label>
        <input type="text" name="eempcount" placeholder="Employee Count" [(ngModel)]="eempcount">
      </div>

   </form>

   <br>
    <br>
    <p class="uk-text-right">
      <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
      <button class="uk-button uk-button-primary" type="button" (click)="on_edit_empcount()">Save</button>
    </p>
  </div>
</div>






  <div class="uk-child-width-2-2@s uk-grid-match" uk-grid style="width: 100%;padding-left: 10px;padding-top: 20px;">
        <div>
            <h4 class="uk-heading-bullet" style="color: #303f9f;"> Product Landscape</h4>
            <div style="padding-left: 20px;">
            <a class="ui orange label" *ngFor="let landscapecategory of removenull(customerlandscape)">{{landscapecategory}}</a>
          </div>
        </div>
  </div>






  <div class="uk-child-width-2-2@s" uk-grid style="width: 100%;padding-left: 10px;padding-top: 20px;">
    <div>
      <div class="uk-card-primary uk-card-default uk-card-small uk-card-body">
        <h3 class="uk-card-title">Customer 360</h3>
        <div class="uk-child-width-1-2@s" uk-grid>
          <div>
            <ul class="uk-tab" uk-tab>
              <li class="uk-active"><a href="#"  (click)="togglerakprod()">Product Portfolio (by Raksha)</a>
              </li>
              <li><a href="#" (click)="togglecompprods()">Competitor Products</a></li>
              <li><a href="#" (click)="togglechats()">Contacts</a></li>
            </ul>
          </div>
        </div>
        <div [hidden]="!rakprods" class="container" style="padding-left: 10px;padding-top: 10px;">
         <table class="ui inverted grey table">
          <thead>
            <tr><th class="uppercase">PRODUCT</th>
              <th>BRAND</th>
              <th>CATEGORY AND SUB CATEGORIES</th>
              <th>QTY</th>
              <th>LICENSE EXPIRY DATE</th>
              <th>ASSIGNED TO</th>
              
            </tr></thead>
            <tbody *ngFor="let r of oppoaccounts ">
              <tr>
                <td>{{r.product_name }}</td>
                <td><app-getbrandname [id]="r.product_key"></app-getbrandname></td>
                <td><app-getcatsubcat [id]="r.product_key"></app-getcatsubcat></td>
                <td>{{r.quantity }}</td>
                <td>June 2020  &nbsp; <i class="edit outline icon"></i> 
                </td>
                <td><app-getassignedtoname [id]="r.opportunity_assignedto"></app-getassignedtoname></td>
                
              </tr>
<!--               <tr>
                <td>Client Server Security for SMB - Worry-Free</td>
                <td>Trend</td>
                <td>100</td>
                <td>August 2020</td>
                <th> Other </th>
                <th> XYZ PVT LTD</th>
              </tr> -->
            </tbody>
          </table>
        </div>
        <div [hidden]="!compprods" class="container" style="padding-left: 10px;padding-top: 10px;">
         List of Products Sold by others
         <table class="ui inverted grey table">
          <thead>
            <tr><th class="uppercase">PRODUCT</th>
              <th>BRAND</th>
              <th>CATEGORY AND SUB CATEGORIES</th>
              <th>LICENSE EXPIRY DATE</th>
              <th>COMPETITIOR NAME</th>
              <th>ACTION</th>
            </tr></thead>
            <tbody *ngFor="let cp of compproducts">
              <tr>
                <td><app-getproductname [id]="cp.productid"></app-getproductname></td>
                <td><app-getbrandname [id]="cp.productid"></app-getbrandname></td>
                <td><app-getcatsubcat [id]="cp.productid"></app-getcatsubcat></td>
                <td>{{cp.license_expiry_dt | date}}  &nbsp; <i class="edit outline icon" uk-toggle="target: #modal-edit-licexpdt" (click)="editLicExpDt(cp.license_expiry_dt, cp.comprodkey)"></i></td>
                <td><app-getcompetitorname [id]="cp.competitorid"></app-getcompetitorname></td>
                <td>
                  <span class="uk-margin-small-right uk-icon" uk-toggle="target: #modal-delete-comproduct" uk-icon="trash" (click)="deletecomProduct(cp.comprodkey)"></span> 
                </td>
              </tr>
            </tbody>
          </table>

          <!-- Accent-colored raised button with ripple -->
    <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored"  uk-toggle="target: #modal-edit-addcompprod">
      Add Product
    </button>

       </div>

       <div [hidden]="!contactshow" class="container" style="padding-left: 10px;padding-top: 10px;">
        <div class="uk-card uk-card-default uk-card-body uk-width-1-2@m" *ngFor="let contact of contacts">


          <h4 class="uk-card-title" style="color: #607D8B;font-weight: bold;">  <i class="user circle outline icon"></i>  {{contact.contact_person_name}} | <span style="color: #009688;">{{contact.contact_person_title | uppercase}}</span></h4>

          <div class="ui grid">
            <div class="eight wide column">
              <p style="font-size: 12px;padding-bottom: 2px;color: black;"> <span style="font-weight: bold;"> Date Created: </span> {{contact.created_at  | date:'medium' }}</p>
            </div>
            <div class="eight wide column">
             <p style="font-size: 12px;padding-top: 2px;color: black;"> <span style="font-weight: bold;"> Decision Maker: </span> {{contact.Decision_maker }}</p>
           </div>
         </div>

         <div class="ui grid">
          <div class="eight wide column">
            <p style="font-size: 12px;padding-bottom: 2px;color: black;"> <span style="font-weight: bold;"> Primary Contact: </span> {{contact.Primary_contact }}</p>
          </div>
          <div class="eight wide column">
           <p style="font-size: 12px;padding-top: 2px;color: black;"> <span style="font-weight: bold;"> Contact Number: </span> {{contact.contact_number }}</p>
         </div>
       </div>
     </div>
   </div>
 </div>
 <div>
 </div>
</div>
</div>
<br>

<!-- This is the modal for Deleting comproduct -->
<div id="modal-delete-comproduct" uk-modal>
  <br>
  <br>
  <div class="uk-modal-dialog uk-modal-body">
    <h2 class="uk-modal-title">Delete Competitor Product</h2>
    <p>Are you sure want to delete this Competitor Product? </p>
    <br>
    <br>
    <p class="uk-text-right">
      <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
      <button class="uk-button uk-button-primary" type="button" (click)="deleteCP()">Confirm</button>
    </p>
  </div>
</div>
<!-- This is the modal for Deleting comproduct -->

<!-- This is the modal for Updating License expiry date in comproduct -->
<div id="modal-edit-licexpdt" uk-modal>
  <br>
  <br>
  <div class="uk-modal-dialog uk-modal-body">
    <h2 class="uk-modal-title">Update License expiry date</h2>
    <form class="ui form">
     <div class="form-group column">
        <label>License Expiry Date: </label>
        <br>
       <div class="ui input" style="width: 140px;">
        <input [ngModel]="upd_license_expiry_dt | date:'yyyy-MM-dd'" (ngModelChange)="onupdlicdtChange($event)" type="date" name="license_expiry_dt" style="height: 29px;width: 135px;padding-left: 2px;padding-right: 2px;"/>
        </div>
      </div>
      <br>
    </form>
    <p class="uk-text-right">
      <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
      <button class="uk-button uk-button-primary" type="button" (click)="updateLicExpDt()">Save</button>
    </p>
  </div>
</div>
<!-- This is the modal for Updating License expiry date in comproduct -->

<!--Modal for Editing a Competitor Product -->

<div id="modal-edit-addcompprod" uk-modal>
  <br>
  <br>
  <div class="uk-modal-dialog uk-modal-body">
    <h2 class="uk-modal-title">Add Competitor Product</h2>
    <form class="ui form">

      <div class="form-group column" >
        <label for="exampleFormControlSelect1">Product: </label>
        <select class="form-control" id="exampleFormControlSelect1" (change)="changeprod($event.target.value)"> 
          <option [value]="'All'" [selected]="selected">Select an option </option>
          <option *ngFor="let p of products" [value]="p.productkey">{{p.Product_name}}</option>
        </select>
      </div>
      <br>

      <div class="form-group column">
        <label>License Expiry Date: </label>
        <br>
       <div class="ui input" style="width: 140px;">
        <input [ngModel]="license_expiry_dt | date:'yyyy-MM-dd'" (ngModelChange)="onlicdtChange($event)" type="date" name="license_expiry_dt" style="height: 29px;width: 135px;padding-left: 2px;padding-right: 2px;"/>
        </div>
      </div>
      <br>

      <div class="form-group column">
        <label  for="exampleFormControlSelect3">Competitior Name: </label>
        <select class="form-control" id="exampleFormControlSelect3"  (change)="changecompname($event.target.value)">
          <option [value]="'All'" [selected]="selected" >Select an option </option>
          <option *ngFor="let r of competitors" [value]="r.competitor_id">{{r.competitor_name}}</option>
        </select>
      </div>
      <br>

     
   </form>

   <br>

<!--    <div style="width: 300px; margin-bottom: 20px;">
  <h6>Select a Product</h6>
  <ng-select [allowClear]="true"
              [items]="items"
              (data)="refreshValue($event)"
              (selected)="selected_prod($event)"
              (removed)="removed($event)"
              (typed)="typed($event)"
              placeholder="No product selected">
  </ng-select>
</div>
 -->
    <br>
    <br>
    <p class="uk-text-right">
      <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
      <button class="uk-button uk-button-primary" type="button" (click)="on_edit_product()">Save</button>
    </p>
  </div>
</div>

<div style="width: 100%;padding-left: 10px;padding-top: 20px;padding-right: 35px;">
  <div class="uk-card-secondary uk-card-default uk-card-small uk-card-body">
    <h3 class="uk-card-title">Upcoming Renewals</h3>
    <div class="uk-child-width-1-3@m uk-grid-small uk-grid-match" uk-grid>

      <div>
        <div class="uk-card uk-card-primary uk-card-body">
          <h3 class="uk-card-title">Client Server Messaging Security for SMB</h3>
          <span style="font-weight: bold;">License Qty:</span> 
          <h4>1000</h4>
          <p uk-margin>
            <button class="uk-button uk-button-default">Create Lead</button>
          </p>
        </div>
      </div>
      <br>
      <div>
        <div class="uk-card uk-card-primary uk-card-body">
          <h3 class="uk-card-title">Client Server Messaging Security for SMB</h3>
          <span style="font-weight: bold;">License Qty:</span> 
          <h4>100</h4>
          <p uk-margin>
            <button class="uk-button uk-button-default">Create Lead</button>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<br>
<br>

<div style="width: 100%;padding-left: 10px;padding-top: 20px;padding-right: 35px;">
  <div class="uk-card-secondary uk-card-default uk-card-small uk-card-body">
    <h3 class="uk-card-title">Similar Companies</h3>
    <div class="uk-child-width-3-3@m uk-grid-small uk-grid-match" uk-grid>
      <table class="ui orange table">
        <thead>
          <tr><th>Company Name</th>
          </tr></thead><tbody>
            <tr>
              <td>Apples Pvt Ltd</td>

            </tr>
            <tr>
              <td> Some Ltd</td>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <br>
    <br>

    <div style="width: 100%;padding-left: 10px;padding-top: 20px;padding-right: 35px;">
      <div class="uk-card-secondary uk-card-default uk-card-small uk-card-body">
        <h3 class="uk-card-title">Similar Companies Bought</h3>
        <div>
          <table class="ui inverted teal table">
            <thead>
              <tr><th>Product</th>
                <th>Create Lead</th>

              </tr></thead><tbody>
                <tr>
                  <td>AV Trend</td>
                  <td> <button class="uk-button uk-button-default">Create Lead</button></td>

                </tr>
                <tr>
                  <td>Mobile Security suite</td>
                  <td> <button class="uk-button uk-button-default">Create Lead</button></td>

                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>